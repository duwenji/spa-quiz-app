# クリーンアーキテクチャ教材生成タスク

## 目的
クリーンアーキテクチャの基本概念から実装まで、**段階的に学べる包括的なテキスト教材（Markdown形式）** を複数のステップに分けて生成する。

## 生成ステップ構成

教材を5つのステップに分割して、段階的に生成します。各ステップは独立して実行可能です。

### 📋 全体構成図
```
STEP 1: 理論基盤（6-8時間学習）
└─ 基礎知識 + コア概念と層構造

STEP 2: 設計方法論（5-7時間学習）
└─ 設計原則 + 実装パターン

STEP 3: 言語別実装（6-8時間学習）
└─ C# / TypeScript / Java での実装

STEP 4: 適用判断（3-4時間学習）
└─ メリット・課題・適用判断

STEP 5: 実践応用（4-5時間学習）
└─ 実践例 + アンチパターン + FAQ
```

---

## STEP 1: 理論基盤の生成

### 対象セクション
1. **基礎知識**（20-30分）
   - クリーンアーキテクチャとは
   - 提唱者（Robert C. Martin）と背景
   - SOLID原則との関連性
   - 従来のアーキテクチャとの違い

2. **コア概念と層構造**（40-50分）
   - 4階層（Entities, UseCases, Interface Adapters, Frameworks）の詳細解説
   - 依存関係の方向性（アーキテクチャ図含む）
   - 依存性逆転の原則（DIP）
   - 層間通信メカニズム

### 出力ファイル名
`extras/clean-architecture-step1-foundation.md`

### コンテンツ要件
- 読了時間：1.5-2時間
- ファイルサイズ：2000-3000行のMarkdown
- 図解数：5-8個（層構造図、依存関係図、アーキテクチャ図など）
- コード例：なし（理論のみ）

---

## STEP 2: 設計方法論の生成

### 対象セクション
3. **設計原則**（30-40分）
   - SOLID原則各項目との実装での関わり
   - 責務の分離の実践的意味
   - テスタビリティのメカニズム

4. **実装パターン**（60-80分）
   - エンティティ層の設計と実装
   - ユースケース層の構築
   - インターフェース・アダプタ層の役割
   - フレームワーク・ドライバー層の統合
   - 入出力ポートの設計
   - リポジトリパターンの位置づけ
   - DI（依存性注入）の実装戦略

### 出力ファイル名
`extras/clean-architecture-step2-design.md`

### コンテンツ要件
- 読了時間：1.5-2.5時間
- ファイルサイズ：2500-3500行のMarkdown
- 図解数：6-10個（パターン図、シーケンス図等）
- コード例：汎用的なPseudocode（言語別に2-3例）
- 段階的理解：概念図 → パターン図 → 実装指針

---

## STEP 3: 言語別実装の生成

### 対象セクション
5. **言語別実装**（言語ごとに40-50分）

#### STEP 3A: C# での実装
- プロジェクト構成とフォルダ設計
- プロジェクトファイル構成例
- インターフェース定義パターン
- DI Container設定（Autofac, .NET Core DI）
- Entity Framework との組み合わせ
- 完全なコード例：Domain → Application → Adapter → Framework層

#### STEP 3B: TypeScript/JavaScript での実装
- モジュール構成パターン
- インターフェース定義パターン
- npm package.json 構成例
- 依存性注入ライブラリの活用
- React/Vue との統合パターン
- 完全なコード例：Domain → Application → Adapter → Framework層

#### STEP 3C: Java での実装
- パッケージ構成戦略
- インターフェース定義パターン
- Spring Framework との統合
- アノテーションによるDI設定
- Maven/Gradle での構成例
- 完全なコード例：Domain → Application → Adapter → Framework層

### 出力ファイル名
- `extras/clean-architecture-step3a-csharp.md`
- `extras/clean-architecture-step3b-typescript.md`
- `extras/clean-architecture-step3c-java.md`

### コンテンツ要件（各言語共通）
- 読了時間：1.5-2時間
- ファイルサイズ：2000-3000行のMarkdown
- コード例：各言語3-5の実装サンプル（100-300行程度）
- すべてのコードは実装可能で、最小限の依存関係
- フォルダ構成例（図またはテキスト）

---

## STEP 4: 適用判断の生成

### 対象セクション
6. **メリットと適用判断**（30-40分）
   - テスト容易性の向上メカニズム
   - ビジネスロジック再利用性
   - フレームワーク独立性
   - チーム保守性の向上

   - 導入時の課題：学習コスト、開発速度、複雑性
   - パフォーマンスへの影響
   - チームスキル要件

   - 適用判断フレームワーク
     - プロジェクト規模別（小・中・大）
     - チーム構成別
     - ビジネス要件別
     - 技術スタック別

### 出力ファイル名
`extras/clean-architecture-step4-judgment.md`

### コンテンツ要件
- 読了時間：1-1.5時間
- ファイルサイズ：1200-1800行のMarkdown
- 図表：判定マトリックス、チェックリスト（3-5個）
- コード例：なし（議論と判断フレームワークのみ）

---

## STEP 5: 実践応用の生成

### 対象セクション
7. **実践例とアンチパターン**（50-60分）
   - 完全なサンプルアプリケーション
     - 要件定義（例：ショッピングカート、タスク管理アプリ）
     - 設計方針と理由
     - 完全な実装例コード（すべての層）
     - ユニットテストの例

   - よくあるアンチパターン（5-7個）
     1. 依存性の逆転に失敗
     2. 層の責務が曖昧
     3. インターフェースの乱用
     4. 過度な抽象化
     5. テスト戦略の欠落
     - 各パターンの修正方法

   - リソース制約下での適応
     - 小規模チーム（2-3人）での導入
     - 既存レガシーコードベースへの部分適用
     - MVP開発での適合レベル調整

8. **補足とFAQ**（15-20分）
   - よくある質問と回答（10-15個）
   - 参考リソース
   - 学習の次のステップ

### 出力ファイル名
`extras/clean-architecture-step5-practice.md`

### コンテンツ要件
- 読了時間：1.5-2時間
- ファイルサイズ：2000-3000行のMarkdown
- 完全な実装例：1つの言語での500-800行コード
- アンチパターン例：反例コード3-5個
- チェックリストと判定フロー図

---

## 統一的なコンテンツ品質ガイドライン

### 全ステップ共通の要素

#### 各セクションに含める要素
- **セクション導入**：目標と全体での位置づけ（2-3段落）
- **メイン内容**：5-8の小見出しで段階的な説明
- **図解**：依存関係図、パターン図、フロー図（マークダウン図またはASCII図）
- **実演チェック**：読者が理解を確認できる問い（各セクション3-5個）
- **セクションまとめ**：要点と次のセクションへの橋渡し（1-2段落）

#### 文体・表現ガイド
- **対象読者**：開発経験3年以上、デザインパターン基本知識あり
- **説明スタイル**：「『なぜ』『どのように』『いつ使うのか』」を順に説明
- **具体例**：抽象的説明の後に必ず実装例またはシナリオを示す
- **図表**：ASCII図またはマークダウンコードブロックで表現
- **用語統一**：同じ概念には同じ日本語訳を使用（用語集をセクション内に記載）

#### コード例の要件
- 言語ごとに適切な量（提示ステップによる）
- 完全に動作するコード（必要な import/using/require は含める）
- 不要な複雑性は排除し、学習対象のみ焦点
- 各コード例に3-5行の説明を付与
- ファイル分割が必要な場合は「src/」などで示唆

#### マークダウン記法
- h1: # ステップ全体タイトル
- h2: ## セクション
- h3: ### サブセクション
- h4: #### トピック
- コード: ````言語` ``` 形式
- 引用: > で重要ポイントをハイライト
- リスト：- または * で箇条書き
- 番号付きリスト：1. で数値リスト

#### 相互参照
- ステップ内での参照：「### トピック名」への相互参照
- ステップ間での参照：「STEP X の「## セクション名」を参照」と明記
- 同言語での実装例への相互参照

---

## ステップ別の特記条件

### STEP 1: 理論基盤
- **図解を重視**：理論を視覚化することが学習効果を高める
- **抽象度**：実装言語を示唆しない（アルゴリズムとしての表現）
- **参考資料**：「Clean Architecture」「Uncle Bob's blog」などへのリンク付記

### STEP 2: 設計方法論
- **汎用性**：複数言語で共通のパターンを示す
- **段階性**：簡単なパターン → 複雑なパターンへの進行
- **比較表**：従来手法との比較テーブルを含める
- **Pseudocode**：言語依存しないコード例

### STEP 3: 言語別実装
- **実行可能性**：コピペで動作するレベルの完全性
- **フォルダ構成**：プロジェクト構成図を含める
- **言語別の習慣**：各言語のベストプラクティスを尊重
- **比較表**：3つの言語での同じパターンの実装比較テーブル

### STEP 4: 適用判断
- **チェックリスト**：go/no-go判定ができるチェックリスト
- **事例研究**：異なる規模のプロジェクトでの判定例
- **トレードオフ分析**：メリットと課題の定量的・定性的分析

### STEP 5: 実践応用
- **実装の完全性**：1つのビジネス要件で複数層をカバー
- **テストコード**：ユニットテスト、統合テストの例
- **トラブルシューティング**：問題と対処のペア形式

---

## 出力仕様

### 出力ファイル構成
7つのMarkdownファイルを生成（ステップごと）

| ステップ | ファイル名 | 想定行数 |
|---------|---------|--------|
| STEP 1 | `clean-architecture-step1-foundation.md` | 2000-3000行 |
| STEP 2 | `clean-architecture-step2-design.md` | 2500-3500行 |
| STEP 3A | `clean-architecture-step3a-csharp.md` | 2000-3000行 |
| STEP 3B | `clean-architecture-step3b-typescript.md` | 2000-3000行 |
| STEP 3C | `clean-architecture-step3c-java.md` | 2000-3000行 |
| STEP 4 | `clean-architecture-step4-judgment.md` | 1200-1800行 |
| STEP 5 | `clean-architecture-step5-practice.md` | 2000-3000行 |
| **合計** | **7ファイル** | **14,900-20,300行** |

### ファイル構成テンプレート
```markdown
# クリーンアーキテクチャ - STEP {N}: {トピック}

## 概要
- このステップの学習時間
- このステップの位置づけ
- 前提知識
- このステップの学習成果

## 目次

## セクション1
### サブセクション
#### 詳細トピック

...

## 参考リソース
- 関連URL
- 前のSTEP / 次のSTEP へのリンク
```

### セクション間の相互参照
各ステップの最後に「参考リソース」セクションを設け、以下の形式で関連情報を記載：

```markdown
## 参考リソース

### 関連するSTEP
- [STEP 1: 理論基盤](#)
- [STEP 2: 設計方法論](#)
- [STEP 3: 言語別実装](#)
  - STEP 3A: C#
  - STEP 3B: TypeScript/JavaScript  
  - STEP 3C: Java
- [STEP 4: 適用判断](#)
- [STEP 5: 実践応用](#)

### 外部リソース
- Clean Architecture: A Craftsman's Guide to Software Structure and Design
- Uncle Bob's Blog - Clean Architecture
- Martin Fowler's Blog
```

---

## 使用方法

各ステップのプロンプトは独立しており、以下のような柔軟な学習パターンをサポート：

### パターン1：完全学習（推奨）
```
STEP 1 → STEP 2 → STEP 3（3A / 3B / 3C）→ STEP 4 → STEP 5
総学習時間：7-10時間
```

### パターン2：理論重視
```
STEP 1 → STEP 2 → STEP 4 → STEP 5
総学習時間：4-6時間
```

### パターン3：言語別学習
```
STEP 1 → STEP 2 → STEP 3A または 3B または 3C
総学習時間：5-7時間
```

### パターン4：実装重視
```
STEP 1 → STEP 2 → STEP 3（使用言語） → STEP 5
総学習時間：6-8時間
```

各ステップは相互参照により繋がるため、他のSTEPの概念が必要な場合は参照できます。

### 導入時の課題
- 学習コストと開発速度の影響
- 過度な抽象化のリスク
- パフォーマンスへの影響

### 適用判断フレームワーク
- プロジェクト規模別
- チームスキル別
- ビジネス要件別

### まとめと次のステップ

## 9. 実践例とアンチパターン（読了時間：50-60分）
### 完全なサンプルアプリケーション
- 要件定義
- 設計方針
- 実装コード（すべての層）
- テストコード例

### よくあるアンチパターン
1. 依存性の逆転に失敗
2. 層の責務が曖昧
3. 過度な抽象化
4. インターフェースの乱用

### 各アンチパターンの修正方法

### プロジェクト制約下での対応
- 小規模チーム向け適応アーキテクチャ
- リソース制約下での段階的導入
- 既存コードベースへの部分適用

### 学習を終えた後のステップ
```

## コンテンツ品質ガイドライン

### 各セクションに含める要素
- **導入**：セクションの学習目標と全体での位置づけ（2-3段落）
- **主要内容**：5-8の小見出しで段階的な説明
- **図解**：依存関係図、オブジェクト図、シーケンス図など（マークダウンでも記述可）
- **コード例**：実装パターンを示す最小限の例（100-300行程度）
- **実演チェック**：読者が理解を確認できる問い（各セクション3-5個）
- **まとめ**：セクションの要点と次のセクションへの橋渡け（1-2段落）

### 文体・表現ガイド
- **対象読者**：開発経験3年以上、デザインパターン基本知識あり
- **説明スタイル**：「『なぜ』『どのように』『いつ使うのか』」を順に説明
- **具体例**：抽象的説明の後に必ず実装例を示す
- **図表**：ASCII図またはマークダウンコードブロックで表現
- **用語統一**：同じ概念には同じ日本語訳を使用

### コード例の要件
- 各言語最低3-5の実装サンプル
- 完全に動作するコード（必要な import/using は含める）
- 不要な複雑性は排除し、学習対象のみ焦点
- 各コード例に3-5行の説明を付与

### 読了時間の目安
- 全教材合計：約6-7時間
- セクション単独での学習も可能（参照リンク付き）

## 出力形式の仕様

### マークダウン記法
- h1: # 全体タイトル
- h2: ## セクション
- h3: ### サブセクション
- h4: #### トピック
- コード: ````言語` ```言語` ```形式
- 引用: > で重要ポイントをハイライト
- リスト：- または * で箇条書き
- 番号付きリスト：1. で数値リスト

### 相互参照
- セクション内では「### トピック名」への参照
- セクション間では「## セクション名」への参照
- 同言語での実装例への相互参照

### ファイルサイズと構成
- 単一ファイル（extras/clean-architecture-guide.md）
- 目安：8000-12000行のマークダウン
- 目次の自動生成が可能な構造
