# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨­å®šè§£èª¬

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å†…éƒ¨æ§‹æˆã¨å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitHub Pages (æœ¬ç•ªç’°å¢ƒ)              â”‚
â”‚  https://duwenji.github.io/spa-quiz-app/    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                 â–¼ (gh-pages)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         dist/ãƒ•ã‚©ãƒ«ãƒ€                        â”‚
â”‚  (ãƒ“ãƒ«ãƒ‰å‡ºåŠ›)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚assets/   â”‚      â”‚data/     â”‚
â”‚(JS/CSS)  â”‚      â”‚(JSON)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â–²                  â–²
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚ npm run     â”‚
      â”‚   build     â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚src/      â”‚      â”‚public/   â”‚
â”‚(ã‚½ãƒ¼ã‚¹)  â”‚      â”‚(é™çš„)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ : Vite

### Viteã¨ã¯

**Vite**ï¼ˆãƒ•ãƒ©ãƒ³ã‚¹èªã§ã€Œé€Ÿã„ã€ï¼‰ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®é«˜é€Ÿãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

#### é–‹ç™ºæ™‚ï¼ˆnpm run devï¼‰
```
src/main.tsx â†’ Vite DevServer â†’ ãƒ›ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ›´æ–°
                (HMR)  
```

#### ãƒ“ãƒ«ãƒ‰æ™‚ï¼ˆnpm run buildï¼‰
```
src/           â†’ TypeScriptå‹ãƒã‚§ãƒƒã‚¯ï¼ˆtscï¼‰
               â†’ Vite ãƒ“ãƒ«ãƒ€ãƒ¼ï¼ˆãƒãƒ³ãƒ‰ãƒ«ãƒ»æœ€é©åŒ–ï¼‰
               â†’ dist/ï¼ˆå‡ºåŠ›ï¼‰
```

### vite.config.ts ã®è¨­å®š

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],                    // React ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
  base: process.env.NODE_ENV === 'production' 
    ? '/spa-quiz-app/'   // æœ¬ç•ª: GitHub Pages ãƒ‘ã‚¹
    : '/',               // é–‹ç™º: ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹
})
```

#### `base` è¨­å®šã®é‡è¦æ€§

| ç’°å¢ƒ | baseå€¤ | ã‚¢ã‚¯ã‚»ã‚¹URL |
|------|--------|-----------|
| é–‹ç™º | `/` | `http://localhost:5173/` |
| æœ¬ç•ª | `/spa-quiz-app/` | `https://duwenji.github.io/spa-quiz-app/` |

ã“ã®è¨­å®šã«ã‚ˆã‚Šã€é–‹ç™ºãƒ»æœ¬ç•ªã®**ãƒ‘ã‚¹æ§‹é€ ã®é•ã„ã‚’è‡ªå‹•å‡¦ç†**ã—ã¾ã™ã€‚

---

## ğŸ¨ React + TypeScript

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ App.tsx                          # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ main.tsx                         # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ App.css                          # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ QuizSetSelector.tsx          # ã‚¯ã‚¤ã‚ºã‚»ãƒƒãƒˆé¸æŠ
â”‚   â”œâ”€â”€ QuestionCard.tsx             # å•é¡Œè¡¨ç¤º
â”‚   â”œâ”€â”€ OptionButton.tsx             # é¸æŠè‚¢ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ NavigationButtons.tsx        # å‰ã¸ãƒ»æ¬¡ã¸ãƒœã‚¿ãƒ³
â”‚   â”œâ”€â”€ ProgressBar.tsx              # é€²æ—ãƒãƒ¼
â”‚   â”œâ”€â”€ ResultFeedback.tsx           # çµæœãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
â”‚   â”œâ”€â”€ QuestionNavigation.tsx       # å•é¡ŒãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ ActivityDownload.tsx         # å­¦ç¿’å±¥æ­´ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useQuiz.ts                   # ã‚¯ã‚¤ã‚ºçŠ¶æ…‹ç®¡ç†
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                     # TypeScriptå‹å®šç¾©
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ downloadHistory.ts           # å±¥æ­´ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å‡¦ç†
â”‚   â””â”€â”€ storageManager.ts            # LocalStorageç®¡ç†
â””â”€â”€ data/
    â”œâ”€â”€ index.ts                     # ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿é–¢æ•°
    â””â”€â”€ quizSets.json                # ã‚¯ã‚¤ã‚ºã‚»ãƒƒãƒˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
```

### useQuiz ãƒ•ãƒƒã‚¯

ã‚¯ã‚¤ã‚ºã®çŠ¶æ…‹ç®¡ç†ã‚’ä¸€å…ƒåŒ–ï¼š

```typescript
const {
  state,                    // ç¾åœ¨ã®å•é¡Œã€é¸æŠè‚¢ãªã©
  history,                  // å›ç­”å±¥æ­´
  selectAnswer,            // å›ç­”ã‚’é¸æŠ
  confirmAnswer,           // å›ç­”ã‚’ç¢ºå®š
  goToNextQuestion,        // æ¬¡ã®å•é¡Œã¸
  goToPreviousQuestion,    // å‰ã®å•é¡Œã«æˆ»ã‚‹
  goToQuestion,            // æŒ‡å®šå•é¡Œã¸ã‚¸ãƒ£ãƒ³ãƒ—
  resetQuiz,               // ãƒªã‚»ãƒƒãƒˆ
  currentQuestion,         // ç¾åœ¨ã®å•é¡Œ
} = useQuiz(questions);
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### quizSets.jsonï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰

```json
{
  "quizSets": [
    {
      "id": "github-copilot-variables",           // ãƒ¦ãƒ‹ãƒ¼ã‚¯ID
      "name": "ãƒãƒ£ãƒƒãƒˆå¤‰æ•°ã«ã¤ã„ã¦",             // è¡¨ç¤ºå
      "description": "å­¦ç¿’èª¬æ˜",                   // èª¬æ˜
      "category": "GitHub",                       // ã‚«ãƒ†ã‚´ãƒª
      "icon": "ğŸ¤–",                               // çµµæ–‡å­—
      "questionCount": 30,                        // å•é¡Œæ•°
      "difficulty": "intermediate",               // é›£åº¦
      "dataPath": "github-copilot/github-copilot-variables.json"  // ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹
    }
  ]
}
```

### å„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆgithub-copilot-variables.jsonç­‰ï¼‰

```json
{
  "questions": [
    {
      "id": "q1",
      "question": "å•é¡Œæ–‡",
      "options": ["é¸æŠè‚¢A", "é¸æŠè‚¢B", "é¸æŠè‚¢C", "é¸æŠè‚¢D"],
      "correctAnswer": 0,                    // æ­£è§£ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
      "explanation": "è§£èª¬\nè¤‡æ•°è¡Œå¯¾å¿œ",
      "difficulty": "beginner"
    }
  ]
}
```

### src/data/index.tsï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼ï¼‰

```typescript
// å‹•çš„ã«JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
const loadQuizSetQuestions = async (dataPath: string): Promise<Question[]> => {
  const baseUrl = import.meta.env.BASE_URL;  // '/' or '/spa-quiz-app/'
  const pathsToTry = [
    `${baseUrl}data/${dataPath}`,            // æœ¬ç•ªç’°å¢ƒ
    `/data/${dataPath}`,                     // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  ];
  
  for (const path of pathsToTry) {
    try {
      const response = await fetch(path);
      return await response.json();
    } catch (err) {
      // æ¬¡ã®ãƒ‘ã‚¹ã‚’è©¦ã™
    }
  }
}
```

**ãªãœã“ã‚“ãªã«è¤‡é›‘ï¼Ÿ**

é–‹ç™ºã¨æœ¬ç•ªã§èª­ã¿è¾¼ã¿ãƒ‘ã‚¹ãŒç•°ãªã‚‹ãŸã‚ï¼š
- é–‹ç™º: `/data/github-copilot/...`
- æœ¬ç•ª: `/spa-quiz-app/data/github-copilot/...`

---

## ğŸ“¦ TypeScript è¨­å®š

### tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ES2020",                    // JavaScriptå‡ºåŠ›ç‰ˆ
    "jsx": "react-jsx",                    // React JSXå‡¦ç†
    "module": "ESNext",                    // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å½¢å¼
    "moduleResolution": "bundler",         // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±º
    "strict": true,                        // å³å¯†ãªãƒã‚§ãƒƒã‚¯
    "types": ["vite/client"],              // Viteç’°å¢ƒå¤‰æ•°å‹
    "resolveJsonModule": true,             // JSONèª­ã¿è¾¼ã¿å¯¾å¿œ
  }
}
```

**é‡è¦:** `"types": ["vite/client"]` ã«ã‚ˆã‚Šã€`import.meta.env.BASE_URL` ã®å‹ãŒèªè­˜ã•ã‚Œã¾ã™ã€‚

---

## ğŸ¯ ãƒ“ãƒ«ãƒ‰ã®æµã‚Œè©³ç´°

### 1. TypeScript å‹ãƒã‚§ãƒƒã‚¯ï¼ˆtsc -bï¼‰

```bash
$ tsc -b
  âœ“ src/**/*.tsx, src/**/*.ts ã‚’ã‚¹ã‚­ãƒ£ãƒ³
  âœ“ å‹ã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
  âœ— å‹ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°ãƒ“ãƒ«ãƒ‰ä¸­æ­¢
```

### 2. Vite ãƒ“ãƒ«ãƒ‰ï¼ˆvite buildï¼‰

```bash
$ vite build
  âœ“ src/main.tsx ã‚’ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦è§£æ
  âœ“ ã‚¤ãƒ³ãƒãƒ¼ãƒˆä¾å­˜ã‚’å†å¸°çš„ã«è¿½è·¡
  âœ“ ãƒãƒ³ãƒ‰ãƒ«ãƒ»ãƒˆãƒªãƒ¼ãƒ»ã‚·ã‚§ãƒ¼ã‚­ãƒ³ã‚°ãƒ»æœ€é©åŒ–
  âœ“ å‡ºåŠ›: dist/
```

#### ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ä¾‹

```
dist/
â”œâ”€â”€ index.html                          # ãƒ¡ã‚¤ãƒ³HTML
â”‚   â””â”€â”€ <script src="assets/index-xxxxx.js"></script>
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ index-CBl2ybJ-.js              # ãƒ¡ã‚¤ãƒ³ãƒãƒ³ãƒ‰ãƒ«ï¼ˆæœ€é©åŒ–ã•ã‚ŒãŸReact+ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
â”‚   â”œâ”€â”€ index-pI9ffYYG.css             # ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆTailwind CSSï¼‰
â”‚   â””â”€â”€ vite-Ch5ij_K9.svg              # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³
â””â”€â”€ data/                               # JSONãƒ‡ãƒ¼ã‚¿ï¼ˆãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ï¼‰
    â”œâ”€â”€ quizSets.json
    â””â”€â”€ github-copilot/
        â”œâ”€â”€ github-copilot-variables.json
        â””â”€â”€ github-copilot-csharp-best-practices.json
```

---

## ğŸ”„ ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```
é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º
â”œâ”€â”€ npm run dev
â”œâ”€â”€ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æœ‰åŠ¹
â””â”€â”€ localhost:5173 ã§ãƒ†ã‚¹ãƒˆ

æœ¬ç•ªæº–å‚™
â”œâ”€â”€ npm run build
â”œâ”€â”€ dist/ ã«å‡ºåŠ›
â””â”€â”€ npm run preview ã§æ¤œè¨¼

ãƒ‡ãƒ—ãƒ­ã‚¤
â”œâ”€â”€ npm run deploy
â”œâ”€â”€ gh-pages ãŒdist/ã‚’push
â””â”€â”€ GitHub Pages ã§å…¬é–‹
```

---

## ğŸ“š ä¸»è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ç”¨é€” | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|-----------|------|----------|
| react | UI ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ^18.3.1 |
| react-dom | React DOM æ“ä½œ | ^18.3.1 |
| vite | ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | ^5.2.8 |
| typescript | å‹ä»˜ã‘ | ^5.4.3 |
| gh-pages | GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ | ^6.1.1 |
| tailwindcss | CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | ^3.4.6 |

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

1. **LocalStorageä½¿ç”¨**
   - å­¦ç¿’å±¥æ­´ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜
   - sensitiveæƒ…å ±ã¯ä¿å­˜ã—ãªã„

2. **JSONãƒ‡ãƒ¼ã‚¿ã¯å…¬é–‹**
   - `public/data/` ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«å…¬é–‹ã•ã‚Œã‚‹
   - æ©Ÿå¯†æƒ…å ±ã¯å«ã‚ãªã„

3. **HTTPSå¯¾å¿œ**
   - GitHub Pages ã¯è‡ªå‹•çš„ã«HTTPSæä¾›

---

## ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

vite.config.ts ã§ã®Bundleåˆ†å‰²ï¼š
```typescript
// ViteãŒè‡ªå‹•çš„ã«å‡¦ç†ï¼š
// - ãƒ„ãƒªãƒ¼ã‚·ã‚§ãƒ¼ã‚­ãƒ³ã‚°ï¼ˆä½¿ã‚ãªã„ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ï¼‰
// - ã‚³ãƒ¼ãƒ‰åˆ†å‰²ï¼ˆå¿…è¦ãªä¾å­˜ã ã‘èª­ã¿è¾¼ã¿ï¼‰
// - åœ§ç¸®ï¼ˆgzipå¯¾å¿œï¼‰
```

æœ¬ç•ªãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆgzipå¾Œï¼‰ï¼š
```
index-CBl2ybJ-.js:   52.68 kB (React 18 + ã‚¢ãƒ—ãƒªãƒ­ã‚¸ãƒƒã‚¯)
index-pI9ffYYG.css:  3.86 kB (Tailwind)
```

---

## ã¾ã¨ã‚

| å±¤ | æŠ€è¡“ | å½¹å‰² |
|----|------|------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | React + TypeScript | UIãƒ»ãƒ­ã‚¸ãƒƒã‚¯ |
| **ã‚¹ã‚¿ã‚¤ãƒ«** | Tailwind CSS | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| **ãƒ“ãƒ«ãƒ‰** | Vite | ãƒãƒ³ãƒ‰ãƒ«ãƒ»æœ€é©åŒ– |
| **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°** | GitHub Pages | å…¬é–‹ |
| **ãƒ‡ãƒ¼ã‚¿** | JSON | ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ä¿å­˜ |
| **çŠ¶æ…‹ç®¡ç†** | useQuiz ãƒ•ãƒƒã‚¯ | ã‚¢ãƒ—ãƒªçŠ¶æ…‹ç®¡ç† |

